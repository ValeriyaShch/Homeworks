(()=>{"use strict";new function(t){const{taskList:e,form:o}=t,s="tasks";this.init=function(){this.loadTasks(),o.addEventListener("submit",(t=>{t.preventDefault(),this.addTask({id:Math.floor(100*Math.random()),text:o.elements.value.value,isDone:!1})}))},this.template=function(t){e.insertAdjacentHTML("beforeend",`<li data-id ="${t.id}" class="todo-item ${t.isDone?"todo-item--checked":""}"><input type="checkbox" name="done" ${t.isDone?"checked":""} class="js--checkbox"><span class="todo-item__description">${t.text}</span><button class="todo-item__delete js--todo-item__delete">Видалити</button></li>`);const o=document.querySelector(`[data-id="${t.id}"]`);o.querySelector(".js--checkbox").addEventListener("change",(()=>this.onCompleted(t))),o.querySelector(".js--todo-item__delete").addEventListener("click",(function(){const t=this.closest("li"),e=t.dataset.id,o=JSON.parse(localStorage.getItem(s));localStorage.setItem(s,JSON.stringify(o.filter((t=>t.id!==Number(e))))),t.remove()}))},this.onCompleted=function(t){t.isDone=!t.isDone;const o=JSON.parse(localStorage.getItem(s)).map((e=>e.id===t.id?t:e));localStorage.setItem(s,JSON.stringify(o)),e.innerHTML="",this.loadTasks()},this.addTask=function(t){const e=JSON.parse(localStorage.getItem(s));this.template(t),o.reset(),localStorage.setItem(s,JSON.stringify(e?[...e,t]:[t]))},this.loadTasks=function(){const t=JSON.parse(localStorage.getItem(s));t&&t.forEach((t=>this.template(t)))}}({taskList:document.querySelector(".js--todos-wrapper"),form:document.querySelector(".js--form")}).init()})();